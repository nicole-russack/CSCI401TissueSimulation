{"ast":null,"code":"import { vec3, mat4 } from 'gl-matrix';\nimport macro from 'vtk.js/Sources/macros';\nimport vtkBoundingBox from 'vtk.js/Sources/Common/DataModel/BoundingBox';\nimport vtkProp3D from 'vtk.js/Sources/Rendering/Core/Prop3D';\nimport vtkVolumeProperty from 'vtk.js/Sources/Rendering/Core/VolumeProperty';\nconst {\n  vtkDebugMacro\n} = macro; // ----------------------------------------------------------------------------\n// vtkVolume methods\n// ----------------------------------------------------------------------------\n\nfunction vtkVolume(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkVolume');\n\n  publicAPI.getVolumes = () => publicAPI;\n\n  publicAPI.makeProperty = vtkVolumeProperty.newInstance;\n\n  publicAPI.getProperty = () => {\n    if (model.property === null) {\n      model.property = publicAPI.makeProperty();\n    }\n\n    return model.property;\n  };\n\n  publicAPI.getBounds = () => {\n    if (model.mapper === null) {\n      return model.bounds;\n    } // Check for the special case when the mapper's bounds are unknown\n\n\n    const bds = model.mapper.getBounds();\n\n    if (!bds || bds.length !== 6) {\n      return bds;\n    } // Check for the special case when the actor is empty.\n\n\n    if (bds[0] > bds[1]) {\n      model.mapperBounds = bds.concat(); // copy the mapper's bounds\n\n      model.bounds = [1, -1, 1, -1, 1, -1];\n      model.boundsMTime.modified();\n      return bds;\n    } // Check if we have cached values for these bounds - we cache the\n    // values returned by model.mapper.getBounds() and we store the time\n    // of caching. If the values returned this time are different, or\n    // the modified time of this class is newer than the cached time,\n    // then we need to rebuild.\n\n\n    const zip = rows => rows[0].map((_, c) => rows.map(row => row[c]));\n\n    if (!model.mapperBounds || !zip([bds, model.mapperBounds]).reduce((a, b) => a && b[0] === b[1], true) || publicAPI.getMTime() > model.boundsMTime.getMTime()) {\n      vtkDebugMacro('Recomputing bounds...');\n      model.mapperBounds = bds.map(x => x);\n      const bbox = [];\n      vtkBoundingBox.getCorners(bds, bbox);\n      publicAPI.computeMatrix();\n      const tmp4 = new Float64Array(16);\n      mat4.transpose(tmp4, model.matrix);\n      bbox.forEach(pt => vec3.transformMat4(pt, pt, tmp4));\n      /* eslint-disable no-multi-assign */\n\n      model.bounds[0] = model.bounds[2] = model.bounds[4] = Number.MAX_VALUE;\n      model.bounds[1] = model.bounds[3] = model.bounds[5] = -Number.MAX_VALUE;\n      /* eslint-enable no-multi-assign */\n\n      model.bounds = model.bounds.map((d, i) => i % 2 === 0 ? bbox.reduce((a, b) => a > b[i / 2] ? b[i / 2] : a, d) : bbox.reduce((a, b) => a < b[(i - 1) / 2] ? b[(i - 1) / 2] : a, d));\n      model.boundsMTime.modified();\n    }\n\n    return model.bounds;\n  };\n\n  publicAPI.getMTime = () => {\n    let mt = model.mtime;\n\n    if (model.property !== null) {\n      const time = model.property.getMTime();\n      mt = time > mt ? time : mt;\n    }\n\n    return mt;\n  };\n\n  publicAPI.getRedrawMTime = () => {\n    let mt = model.mtime;\n\n    if (model.mapper !== null) {\n      let time = model.mapper.getMTime();\n      mt = time > mt ? time : mt;\n\n      if (model.mapper.getInput() !== null) {\n        // FIXME !!! getInputAlgorithm / getInput\n        model.mapper.getInputAlgorithm().update();\n        time = model.mapper.getInput().getMTime();\n        mt = time > mt ? time : mt;\n      }\n    }\n\n    return mt;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nconst DEFAULT_VALUES = {\n  mapper: null,\n  property: null,\n  bounds: [1, -1, 1, -1, 1, -1]\n}; // ----------------------------------------------------------------------------\n\nexport function extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  vtkProp3D.extend(publicAPI, model, initialValues); // vtkTimeStamp\n\n  model.boundsMTime = {};\n  macro.obj(model.boundsMTime); // Build VTK API\n\n  macro.set(publicAPI, model, ['property']);\n  macro.setGet(publicAPI, model, ['mapper']);\n  macro.getArray(publicAPI, model, ['bounds'], 6); // Object methods\n\n  vtkVolume(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nexport const newInstance = macro.newInstance(extend, 'vtkVolume'); // ----------------------------------------------------------------------------\n\nexport default {\n  newInstance,\n  extend\n};","map":{"version":3,"names":["vec3","mat4","macro","vtkBoundingBox","vtkProp3D","vtkVolumeProperty","vtkDebugMacro","vtkVolume","publicAPI","model","classHierarchy","push","getVolumes","makeProperty","newInstance","getProperty","property","getBounds","mapper","bounds","bds","length","mapperBounds","concat","boundsMTime","modified","zip","rows","map","_","c","row","reduce","a","b","getMTime","x","bbox","getCorners","computeMatrix","tmp4","Float64Array","transpose","matrix","forEach","pt","transformMat4","Number","MAX_VALUE","d","i","mt","mtime","time","getRedrawMTime","getInput","getInputAlgorithm","update","DEFAULT_VALUES","extend","initialValues","Object","assign","obj","set","setGet","getArray"],"sources":["/Users/nicolerussack/CSCI401/CSCI401TissueSimulation/my-version/node_modules/vtk.js/Sources/Rendering/Core/Volume/index.js"],"sourcesContent":["import { vec3, mat4 } from 'gl-matrix';\nimport macro from 'vtk.js/Sources/macros';\nimport vtkBoundingBox from 'vtk.js/Sources/Common/DataModel/BoundingBox';\nimport vtkProp3D from 'vtk.js/Sources/Rendering/Core/Prop3D';\nimport vtkVolumeProperty from 'vtk.js/Sources/Rendering/Core/VolumeProperty';\n\nconst { vtkDebugMacro } = macro;\n\n// ----------------------------------------------------------------------------\n// vtkVolume methods\n// ----------------------------------------------------------------------------\n\nfunction vtkVolume(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkVolume');\n\n  publicAPI.getVolumes = () => publicAPI;\n\n  publicAPI.makeProperty = vtkVolumeProperty.newInstance;\n\n  publicAPI.getProperty = () => {\n    if (model.property === null) {\n      model.property = publicAPI.makeProperty();\n    }\n    return model.property;\n  };\n\n  publicAPI.getBounds = () => {\n    if (model.mapper === null) {\n      return model.bounds;\n    }\n\n    // Check for the special case when the mapper's bounds are unknown\n    const bds = model.mapper.getBounds();\n    if (!bds || bds.length !== 6) {\n      return bds;\n    }\n\n    // Check for the special case when the actor is empty.\n    if (bds[0] > bds[1]) {\n      model.mapperBounds = bds.concat(); // copy the mapper's bounds\n      model.bounds = [1, -1, 1, -1, 1, -1];\n      model.boundsMTime.modified();\n      return bds;\n    }\n\n    // Check if we have cached values for these bounds - we cache the\n    // values returned by model.mapper.getBounds() and we store the time\n    // of caching. If the values returned this time are different, or\n    // the modified time of this class is newer than the cached time,\n    // then we need to rebuild.\n    const zip = (rows) => rows[0].map((_, c) => rows.map((row) => row[c]));\n    if (\n      !model.mapperBounds ||\n      !zip([bds, model.mapperBounds]).reduce(\n        (a, b) => a && b[0] === b[1],\n        true\n      ) ||\n      publicAPI.getMTime() > model.boundsMTime.getMTime()\n    ) {\n      vtkDebugMacro('Recomputing bounds...');\n      model.mapperBounds = bds.map((x) => x);\n      const bbox = [];\n      vtkBoundingBox.getCorners(bds, bbox);\n      publicAPI.computeMatrix();\n      const tmp4 = new Float64Array(16);\n      mat4.transpose(tmp4, model.matrix);\n      bbox.forEach((pt) => vec3.transformMat4(pt, pt, tmp4));\n\n      /* eslint-disable no-multi-assign */\n      model.bounds[0] = model.bounds[2] = model.bounds[4] = Number.MAX_VALUE;\n      model.bounds[1] = model.bounds[3] = model.bounds[5] = -Number.MAX_VALUE;\n      /* eslint-enable no-multi-assign */\n      model.bounds = model.bounds.map((d, i) =>\n        i % 2 === 0\n          ? bbox.reduce((a, b) => (a > b[i / 2] ? b[i / 2] : a), d)\n          : bbox.reduce((a, b) => (a < b[(i - 1) / 2] ? b[(i - 1) / 2] : a), d)\n      );\n      model.boundsMTime.modified();\n    }\n    return model.bounds;\n  };\n\n  publicAPI.getMTime = () => {\n    let mt = model.mtime;\n    if (model.property !== null) {\n      const time = model.property.getMTime();\n      mt = time > mt ? time : mt;\n    }\n    return mt;\n  };\n\n  publicAPI.getRedrawMTime = () => {\n    let mt = model.mtime;\n    if (model.mapper !== null) {\n      let time = model.mapper.getMTime();\n      mt = time > mt ? time : mt;\n      if (model.mapper.getInput() !== null) {\n        // FIXME !!! getInputAlgorithm / getInput\n        model.mapper.getInputAlgorithm().update();\n        time = model.mapper.getInput().getMTime();\n        mt = time > mt ? time : mt;\n      }\n    }\n    return mt;\n  };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  mapper: null,\n  property: null,\n  bounds: [1, -1, 1, -1, 1, -1],\n};\n\n// ----------------------------------------------------------------------------\n\nexport function extend(publicAPI, model, initialValues = {}) {\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Inheritance\n  vtkProp3D.extend(publicAPI, model, initialValues);\n\n  // vtkTimeStamp\n  model.boundsMTime = {};\n  macro.obj(model.boundsMTime);\n\n  // Build VTK API\n  macro.set(publicAPI, model, ['property']);\n  macro.setGet(publicAPI, model, ['mapper']);\n  macro.getArray(publicAPI, model, ['bounds'], 6);\n\n  // Object methods\n  vtkVolume(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nexport const newInstance = macro.newInstance(extend, 'vtkVolume');\n\n// ----------------------------------------------------------------------------\n\nexport default { newInstance, extend };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}