{"ast":null,"code":"import macro from 'vtk.js/Sources/macros'; // ----------------------------------------------------------------------------\n// vtkWebGPUBindGroup methods\n// ----------------------------------------------------------------------------\n\nfunction vtkWebGPUBindGroup(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkWebGPUBindGroup');\n\n  publicAPI.setBindables = bindables => {\n    // is there a difference between the old and new list?\n    if (model.bindables.length === bindables.length) {\n      let allMatch = true;\n\n      for (let i = 0; i < model.bindables.length; i++) {\n        if (model.bindables[i] !== bindables[i]) {\n          allMatch = false;\n        }\n      }\n\n      if (allMatch) {\n        return;\n      }\n    } // there is a difference\n\n\n    model.bindables = bindables;\n    publicAPI.modified();\n  };\n\n  publicAPI.getBindGroupLayout = device => {\n    const entries = [];\n\n    for (let i = 0; i < model.bindables.length; i++) {\n      const entry = model.bindables[i].getBindGroupLayoutEntry();\n      entry.binding = i;\n      entries.push(entry);\n    }\n\n    return device.getBindGroupLayout({\n      entries\n    });\n  };\n\n  publicAPI.getBindGroup = device => {\n    // check mtime\n    let mtime = publicAPI.getMTime();\n\n    for (let i = 0; i < model.bindables.length; i++) {\n      const tm = model.bindables[i].getBindGroupTime().getMTime();\n      mtime = tm > mtime ? tm : mtime;\n    }\n\n    if (mtime < model.bindGroupTime.getMTime()) {\n      return model.bindGroup;\n    }\n\n    const entries = [];\n\n    for (let i = 0; i < model.bindables.length; i++) {\n      const entry = model.bindables[i].getBindGroupEntry();\n      entry.binding = i;\n      entries.push(entry);\n    }\n\n    model.bindGroup = device.getHandle().createBindGroup({\n      layout: publicAPI.getBindGroupLayout(device),\n      entries,\n      label: model.label\n    });\n    model.bindGroupTime.modified();\n    return model.bindGroup;\n  };\n\n  publicAPI.getShaderCode = pipeline => {\n    const lines = [];\n    const bgroup = pipeline.getBindGroupLayoutCount(model.label);\n\n    for (let i = 0; i < model.bindables.length; i++) {\n      lines.push(model.bindables[i].getShaderCode(i, bgroup));\n    }\n\n    return lines.join('\\n');\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nconst DEFAULT_VALUES = {\n  device: null,\n  handle: null,\n  label: null\n}; // ----------------------------------------------------------------------------\n\nexport function extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Object methods\n\n  macro.obj(publicAPI, model);\n  model.bindables = [];\n  model.bindGroupTime = {};\n  macro.obj(model.bindGroupTime, {\n    mtime: 0\n  });\n  macro.get(publicAPI, model, ['bindGroupTime', 'handle', 'sizeInBytes', 'usage']);\n  macro.setGet(publicAPI, model, ['label', 'device', 'arrayInformation']);\n  vtkWebGPUBindGroup(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nexport const newInstance = macro.newInstance(extend); // ----------------------------------------------------------------------------\n\nexport default {\n  newInstance,\n  extend\n};","map":{"version":3,"names":["macro","vtkWebGPUBindGroup","publicAPI","model","classHierarchy","push","setBindables","bindables","length","allMatch","i","modified","getBindGroupLayout","device","entries","entry","getBindGroupLayoutEntry","binding","getBindGroup","mtime","getMTime","tm","getBindGroupTime","bindGroupTime","bindGroup","getBindGroupEntry","getHandle","createBindGroup","layout","label","getShaderCode","pipeline","lines","bgroup","getBindGroupLayoutCount","join","DEFAULT_VALUES","handle","extend","initialValues","Object","assign","obj","get","setGet","newInstance"],"sources":["/Users/nicolerussack/CSCI401/CSCI401TissueSimulation/my-version/node_modules/vtk.js/Sources/Rendering/WebGPU/BindGroup/index.js"],"sourcesContent":["import macro from 'vtk.js/Sources/macros';\n\n// ----------------------------------------------------------------------------\n// vtkWebGPUBindGroup methods\n// ----------------------------------------------------------------------------\n\nfunction vtkWebGPUBindGroup(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkWebGPUBindGroup');\n\n  publicAPI.setBindables = (bindables) => {\n    // is there a difference between the old and new list?\n    if (model.bindables.length === bindables.length) {\n      let allMatch = true;\n      for (let i = 0; i < model.bindables.length; i++) {\n        if (model.bindables[i] !== bindables[i]) {\n          allMatch = false;\n        }\n      }\n      if (allMatch) {\n        return;\n      }\n    }\n\n    // there is a difference\n    model.bindables = bindables;\n    publicAPI.modified();\n  };\n\n  publicAPI.getBindGroupLayout = (device) => {\n    const entries = [];\n    for (let i = 0; i < model.bindables.length; i++) {\n      const entry = model.bindables[i].getBindGroupLayoutEntry();\n      entry.binding = i;\n      entries.push(entry);\n    }\n    return device.getBindGroupLayout({ entries });\n  };\n\n  publicAPI.getBindGroup = (device) => {\n    // check mtime\n    let mtime = publicAPI.getMTime();\n    for (let i = 0; i < model.bindables.length; i++) {\n      const tm = model.bindables[i].getBindGroupTime().getMTime();\n      mtime = tm > mtime ? tm : mtime;\n    }\n    if (mtime < model.bindGroupTime.getMTime()) {\n      return model.bindGroup;\n    }\n\n    const entries = [];\n    for (let i = 0; i < model.bindables.length; i++) {\n      const entry = model.bindables[i].getBindGroupEntry();\n      entry.binding = i;\n      entries.push(entry);\n    }\n\n    model.bindGroup = device.getHandle().createBindGroup({\n      layout: publicAPI.getBindGroupLayout(device),\n      entries,\n      label: model.label,\n    });\n    model.bindGroupTime.modified();\n\n    return model.bindGroup;\n  };\n\n  publicAPI.getShaderCode = (pipeline) => {\n    const lines = [];\n    const bgroup = pipeline.getBindGroupLayoutCount(model.label);\n    for (let i = 0; i < model.bindables.length; i++) {\n      lines.push(model.bindables[i].getShaderCode(i, bgroup));\n    }\n    return lines.join('\\n');\n  };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  device: null,\n  handle: null,\n  label: null,\n};\n\n// ----------------------------------------------------------------------------\n\nexport function extend(publicAPI, model, initialValues = {}) {\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Object methods\n  macro.obj(publicAPI, model);\n\n  model.bindables = [];\n\n  model.bindGroupTime = {};\n  macro.obj(model.bindGroupTime, { mtime: 0 });\n\n  macro.get(publicAPI, model, [\n    'bindGroupTime',\n    'handle',\n    'sizeInBytes',\n    'usage',\n  ]);\n  macro.setGet(publicAPI, model, ['label', 'device', 'arrayInformation']);\n\n  vtkWebGPUBindGroup(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nexport const newInstance = macro.newInstance(extend);\n\n// ----------------------------------------------------------------------------\n\nexport default { newInstance, extend };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}