{"ast":null,"code":"import macro from 'vtk.js/Sources/macros';\nimport vtkShader from 'vtk.js/Sources/Rendering/OpenGL/Shader';\nconst {\n  vtkErrorMacro\n} = macro; // perform in place string substitutions, indicate if a substitution was done\n// this is useful for building up shader strings which typically involve\n// lots of string substitutions. Return true if a substitution was done.\n\nfunction substitute(source, search, replace) {\n  let all = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  const replaceStr = Array.isArray(replace) ? replace.join('\\n') : replace;\n  let replaced = false;\n\n  if (source.search(search) !== -1) {\n    replaced = true;\n  }\n\n  let gflag = '';\n\n  if (all) {\n    gflag = 'g';\n  }\n\n  const regex = new RegExp(search, gflag);\n  const resultstr = source.replace(regex, replaceStr);\n  return {\n    replace: replaced,\n    result: resultstr\n  };\n} // ----------------------------------------------------------------------------\n// vtkShaderProgram methods\n// ----------------------------------------------------------------------------\n\n\nfunction vtkShaderProgram(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkShaderProgram');\n\n  publicAPI.compileShader = () => {\n    if (!model.vertexShader.compile()) {\n      vtkErrorMacro(model.vertexShader.getSource().split('\\n').map((line, index) => `${index}: ${line}`).join('\\n'));\n      vtkErrorMacro(model.vertexShader.getError());\n      return 0;\n    }\n\n    if (!model.fragmentShader.compile()) {\n      vtkErrorMacro(model.fragmentShader.getSource().split('\\n').map((line, index) => `${index}: ${line}`).join('\\n'));\n      vtkErrorMacro(model.fragmentShader.getError());\n      return 0;\n    } // skip geometry for now\n\n\n    if (!publicAPI.attachShader(model.vertexShader)) {\n      vtkErrorMacro(model.error);\n      return 0;\n    }\n\n    if (!publicAPI.attachShader(model.fragmentShader)) {\n      vtkErrorMacro(model.error);\n      return 0;\n    }\n\n    if (!publicAPI.link()) {\n      vtkErrorMacro(`Links failed: ${model.error}`);\n      return 0;\n    }\n\n    publicAPI.setCompiled(true);\n    return 1;\n  };\n\n  publicAPI.cleanup = () => {\n    if (model.shaderType === 'Unknown' || model.handle === 0) {\n      return;\n    }\n\n    model.context.deleteShader(model.handle);\n    model.handle = 0;\n  };\n\n  publicAPI.bind = () => {\n    if (!model.linked && !publicAPI.link()) {\n      return false;\n    }\n\n    model.context.useProgram(model.handle);\n    publicAPI.setBound(true);\n    return true;\n  };\n\n  publicAPI.isBound = () => !!model.bound;\n\n  publicAPI.release = () => {\n    model.context.useProgram(null);\n    publicAPI.setBound(false);\n  };\n\n  publicAPI.setContext = ctx => {\n    model.vertexShader.setContext(ctx);\n    model.fragmentShader.setContext(ctx);\n    model.geometryShader.setContext(ctx);\n  };\n\n  publicAPI.link = () => {\n    if (model.inked) {\n      return true;\n    }\n\n    if (model.handle === 0) {\n      model.error = 'Program has not been initialized, and/or does not have shaders.';\n      return false;\n    } // clear out the list of uniforms used\n\n\n    model.uniformLocs = {};\n    model.context.linkProgram(model.handle);\n    const isCompiled = model.context.getProgramParameter(model.handle, model.context.LINK_STATUS);\n\n    if (!isCompiled) {\n      const lastError = model.context.getProgramInfoLog(model.handle);\n      vtkErrorMacro(`Error linking shader ${lastError}`);\n      model.handle = 0;\n      return false;\n    }\n\n    publicAPI.setLinked(true);\n    model.attributeLocs = {};\n    return true;\n  };\n\n  publicAPI.setUniformMatrix = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    const f32 = new Float32Array(v);\n    model.context.uniformMatrix4fv(location, false, f32);\n    return true;\n  };\n\n  publicAPI.setUniformMatrix3x3 = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    const f32 = new Float32Array(v);\n    model.context.uniformMatrix3fv(location, false, f32);\n    return true;\n  };\n\n  publicAPI.setUniformf = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform1f(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformfv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform1fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformi = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform1i(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformiv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform1iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform2f = (name, v1, v2) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    if (v2 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform2f(location, v1, v2);\n    return true;\n  };\n\n  publicAPI.setUniform2fv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform2fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform2i = (name, v1, v2) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    if (v2 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform2i(location, v1, v2);\n    return true;\n  };\n\n  publicAPI.setUniform2iv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform2iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform3f = (name, a1, a2, a3) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    if (a3 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform3f(location, a1, a2, a3);\n    return true;\n  };\n\n  publicAPI.setUniform3fArray = (name, a) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    if (!Array.isArray(a) || a.length !== 3) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform3f(location, a[0], a[1], a[2]);\n    return true;\n  };\n\n  publicAPI.setUniform3fv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform3fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform3i = function (name) {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    let array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n\n    if (array.length !== 3) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform3i(location, array[0], array[1], array[2]);\n    return true;\n  };\n\n  publicAPI.setUniform3iv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform3iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform4f = function (name) {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    let array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n\n    if (array.length !== 4) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform4f(location, array[0], array[1], array[2], array[3]);\n    return true;\n  };\n\n  publicAPI.setUniform4fv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform4fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform4i = function (name) {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    let array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n\n    if (array.length !== 4) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform4i(location, array[0], array[1], array[2], array[3]);\n    return true;\n  };\n\n  publicAPI.setUniform4iv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n\n    model.context.uniform4iv(location, v);\n    return true;\n  };\n\n  publicAPI.findUniform = name => {\n    if (!name || !model.linked) {\n      return -1;\n    } // see if we have cached the result\n\n\n    let loc = model.uniformLocs[name];\n\n    if (loc !== undefined) {\n      return loc;\n    }\n\n    loc = model.context.getUniformLocation(model.handle, name);\n\n    if (loc === null) {\n      model.error = `Uniform ${name} not found in current shader program.`;\n      model.uniformLocs[name] = -1;\n      return -1;\n    }\n\n    model.uniformLocs[name] = loc;\n    return loc;\n  };\n\n  publicAPI.isUniformUsed = name => {\n    if (!name) {\n      return false;\n    } // see if we have cached the result\n\n\n    let loc = model.uniformLocs[name];\n\n    if (loc !== undefined) {\n      return loc !== null;\n    }\n\n    if (!model.linked) {\n      vtkErrorMacro('attempt to find uniform when the shader program is not linked');\n      return false;\n    }\n\n    loc = model.context.getUniformLocation(model.handle, name);\n    model.uniformLocs[name] = loc;\n\n    if (loc === null) {\n      return false;\n    }\n\n    return true;\n  };\n\n  publicAPI.isAttributeUsed = name => {\n    if (!name) {\n      return false;\n    } // see if we have cached the result\n\n\n    if (name in model.attributeLocs) {\n      return true;\n    }\n\n    if (!model.linked) {\n      vtkErrorMacro('attempt to find uniform when the shader program is not linked');\n      return false;\n    }\n\n    const loc = model.context.getAttribLocation(model.handle, name);\n\n    if (loc === -1) {\n      return false;\n    }\n\n    model.attributeLocs[name] = loc;\n    return true;\n  };\n\n  publicAPI.attachShader = shader => {\n    if (shader.getHandle() === 0) {\n      model.error = 'Shader object was not initialized, cannot attach it.';\n      return false;\n    }\n\n    if (shader.getShaderType() === 'Unknown') {\n      model.error = 'Shader object is of type Unknown and cannot be used.';\n      return false;\n    }\n\n    if (model.handle === 0) {\n      const thandle = model.context.createProgram();\n\n      if (thandle === 0) {\n        model.error = 'Could not create shader program.';\n        return false;\n      }\n\n      model.handle = thandle;\n      model.linked = false;\n    }\n\n    if (shader.getShaderType() === 'Vertex') {\n      if (model.vertexShaderHandle !== 0) {\n        model.comntext.detachShader(model.handle, model.vertexShaderHandle);\n      }\n\n      model.vertexShaderHandle = shader.getHandle();\n    }\n\n    if (shader.getShaderType() === 'Fragment') {\n      if (model.fragmentShaderHandle !== 0) {\n        model.context.detachShader(model.handle, model.fragmentShaderHandle);\n      }\n\n      model.fragmentShaderHandle = shader.getHandle();\n    }\n\n    model.context.attachShader(model.handle, shader.getHandle());\n    publicAPI.setLinked(false);\n    return true;\n  };\n\n  publicAPI.detachShader = shader => {\n    if (shader.getHandle() === 0) {\n      model.error = 'shader object was not initialized, cannot attach it.';\n      return false;\n    }\n\n    if (shader.getShaderType() === 'Unknown') {\n      model.error = 'Shader object is of type Unknown and cannot be used.';\n      return false;\n    }\n\n    if (model.handle === 0) {\n      model.error = 'This shader program has not been initialized yet.';\n    }\n\n    switch (shader.getShaderType()) {\n      case 'Vertex':\n        if (model.vertexShaderHandle !== shader.getHandle()) {\n          model.error = 'The supplied shader was not attached to this program.';\n          return false;\n        }\n\n        model.context.detachShader(model.handle, shader.getHandle());\n        model.vertexShaderHandle = 0;\n        model.linked = false;\n        return true;\n\n      case 'Fragment':\n        if (model.fragmentShaderHandle !== shader.getHandle()) {\n          model.error = 'The supplied shader was not attached to this program.';\n          return false;\n        }\n\n        model.context.detachShader(model.handle, shader.getHandle());\n        model.fragmentShaderHandle = 0;\n        model.linked = false;\n        return true;\n\n      default:\n        return false;\n    }\n  };\n\n  publicAPI.setContext = ctx => {\n    model.context = ctx;\n    model.vertexShader.setContext(ctx);\n    model.fragmentShader.setContext(ctx);\n    model.geometryShader.setContext(ctx);\n  };\n\n  publicAPI.setLastCameraMTime = mtime => {\n    model.lastCameraMTime = mtime;\n  }; // publicAPI.enableAttributeArray = (name) => {\n  //   const location = publicAPI.findAttributeArray(name);\n  //   if (location === -1) {\n  //     model.error = `Could not enable attribute ${name} No such attribute.`;\n  //     return false;\n  //   }\n  //   model.context.enableVertexAttribArray(location);\n  //   return true;\n  // };\n  // publicAPI.disableAttributeArray = (name) => {\n  //   const location = publicAPI.findAttributeArray(name);\n  //   if (location === -1) {\n  //     model.error = `Could not enable attribute ${name} No such attribute.`;\n  //     return false;\n  //   }\n  //   model.context.disableVertexAttribArray(location);\n  //   return true;\n  // };\n\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nconst DEFAULT_VALUES = {\n  vertexShaderHandle: 0,\n  fragmentShaderHandle: 0,\n  geometryShaderHandle: 0,\n  vertexShader: null,\n  fragmentShader: null,\n  geometryShader: null,\n  linked: false,\n  bound: false,\n  compiled: false,\n  error: '',\n  handle: 0,\n  numberOfOutputs: 0,\n  attributesLocs: null,\n  uniformLocs: null,\n  md5Hash: 0,\n  context: null,\n  lastCameraMTime: null\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Instantiate internal objects\n\n  model.attributesLocs = {};\n  model.uniformLocs = {};\n  model.vertexShader = vtkShader.newInstance();\n  model.vertexShader.setShaderType('Vertex');\n  model.fragmentShader = vtkShader.newInstance();\n  model.fragmentShader.setShaderType('Fragment');\n  model.geometryShader = vtkShader.newInstance();\n  model.geometryShader.setShaderType('Geometry'); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  macro.get(publicAPI, model, ['lastCameraMTime']);\n  macro.setGet(publicAPI, model, ['error', 'handle', 'compiled', 'bound', 'md5Hash', 'vertexShader', 'fragmentShader', 'geometryShader', 'linked']); // Object methods\n\n  vtkShaderProgram(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\n\nconst newInstance = macro.newInstance(extend, 'vtkShaderProgram'); // ----------------------------------------------------------------------------\n\nexport default {\n  newInstance,\n  extend,\n  substitute\n};","map":{"version":3,"names":["macro","vtkShader","vtkErrorMacro","substitute","source","search","replace","all","replaceStr","Array","isArray","join","replaced","gflag","regex","RegExp","resultstr","result","vtkShaderProgram","publicAPI","model","classHierarchy","push","compileShader","vertexShader","compile","getSource","split","map","line","index","getError","fragmentShader","attachShader","error","link","setCompiled","cleanup","shaderType","handle","context","deleteShader","bind","linked","useProgram","setBound","isBound","bound","release","setContext","ctx","geometryShader","inked","uniformLocs","linkProgram","isCompiled","getProgramParameter","LINK_STATUS","lastError","getProgramInfoLog","setLinked","attributeLocs","setUniformMatrix","name","v","location","findUniform","f32","Float32Array","uniformMatrix4fv","setUniformMatrix3x3","uniformMatrix3fv","setUniformf","uniform1f","setUniformfv","uniform1fv","setUniformi","uniform1i","setUniformiv","uniform1iv","setUniform2f","v1","v2","undefined","RangeError","uniform2f","setUniform2fv","uniform2fv","setUniform2i","uniform2i","setUniform2iv","uniform2iv","setUniform3f","a1","a2","a3","uniform3f","setUniform3fArray","a","length","setUniform3fv","uniform3fv","setUniform3i","args","array","uniform3i","setUniform3iv","uniform3iv","setUniform4f","uniform4f","setUniform4fv","uniform4fv","setUniform4i","uniform4i","setUniform4iv","uniform4iv","loc","getUniformLocation","isUniformUsed","isAttributeUsed","getAttribLocation","shader","getHandle","getShaderType","thandle","createProgram","vertexShaderHandle","comntext","detachShader","fragmentShaderHandle","setLastCameraMTime","mtime","lastCameraMTime","DEFAULT_VALUES","geometryShaderHandle","compiled","numberOfOutputs","attributesLocs","md5Hash","extend","initialValues","Object","assign","newInstance","setShaderType","obj","get","setGet"],"sources":["/Users/nicolerussack/CSCI401/CSCI401TissueSimulation/my-version/node_modules/vtk.js/Sources/Rendering/OpenGL/ShaderProgram/index.js"],"sourcesContent":["import macro from 'vtk.js/Sources/macros';\nimport vtkShader from 'vtk.js/Sources/Rendering/OpenGL/Shader';\n\nconst { vtkErrorMacro } = macro;\n\n// perform in place string substitutions, indicate if a substitution was done\n// this is useful for building up shader strings which typically involve\n// lots of string substitutions. Return true if a substitution was done.\nfunction substitute(source, search, replace, all = true) {\n  const replaceStr = Array.isArray(replace) ? replace.join('\\n') : replace;\n  let replaced = false;\n  if (source.search(search) !== -1) {\n    replaced = true;\n  }\n  let gflag = '';\n  if (all) {\n    gflag = 'g';\n  }\n  const regex = new RegExp(search, gflag);\n  const resultstr = source.replace(regex, replaceStr);\n  return { replace: replaced, result: resultstr };\n}\n\n// ----------------------------------------------------------------------------\n// vtkShaderProgram methods\n// ----------------------------------------------------------------------------\n\nfunction vtkShaderProgram(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkShaderProgram');\n\n  publicAPI.compileShader = () => {\n    if (!model.vertexShader.compile()) {\n      vtkErrorMacro(\n        model.vertexShader\n          .getSource()\n          .split('\\n')\n          .map((line, index) => `${index}: ${line}`)\n          .join('\\n')\n      );\n      vtkErrorMacro(model.vertexShader.getError());\n      return 0;\n    }\n    if (!model.fragmentShader.compile()) {\n      vtkErrorMacro(\n        model.fragmentShader\n          .getSource()\n          .split('\\n')\n          .map((line, index) => `${index}: ${line}`)\n          .join('\\n')\n      );\n      vtkErrorMacro(model.fragmentShader.getError());\n      return 0;\n    }\n    // skip geometry for now\n    if (!publicAPI.attachShader(model.vertexShader)) {\n      vtkErrorMacro(model.error);\n      return 0;\n    }\n    if (!publicAPI.attachShader(model.fragmentShader)) {\n      vtkErrorMacro(model.error);\n      return 0;\n    }\n\n    if (!publicAPI.link()) {\n      vtkErrorMacro(`Links failed: ${model.error}`);\n      return 0;\n    }\n\n    publicAPI.setCompiled(true);\n    return 1;\n  };\n\n  publicAPI.cleanup = () => {\n    if (model.shaderType === 'Unknown' || model.handle === 0) {\n      return;\n    }\n\n    model.context.deleteShader(model.handle);\n    model.handle = 0;\n  };\n\n  publicAPI.bind = () => {\n    if (!model.linked && !publicAPI.link()) {\n      return false;\n    }\n\n    model.context.useProgram(model.handle);\n    publicAPI.setBound(true);\n    return true;\n  };\n\n  publicAPI.isBound = () => !!model.bound;\n\n  publicAPI.release = () => {\n    model.context.useProgram(null);\n    publicAPI.setBound(false);\n  };\n\n  publicAPI.setContext = (ctx) => {\n    model.vertexShader.setContext(ctx);\n    model.fragmentShader.setContext(ctx);\n    model.geometryShader.setContext(ctx);\n  };\n\n  publicAPI.link = () => {\n    if (model.inked) {\n      return true;\n    }\n\n    if (model.handle === 0) {\n      model.error =\n        'Program has not been initialized, and/or does not have shaders.';\n      return false;\n    }\n\n    // clear out the list of uniforms used\n    model.uniformLocs = {};\n\n    model.context.linkProgram(model.handle);\n    const isCompiled = model.context.getProgramParameter(\n      model.handle,\n      model.context.LINK_STATUS\n    );\n    if (!isCompiled) {\n      const lastError = model.context.getProgramInfoLog(model.handle);\n      vtkErrorMacro(`Error linking shader ${lastError}`);\n      model.handle = 0;\n      return false;\n    }\n\n    publicAPI.setLinked(true);\n    model.attributeLocs = {};\n    return true;\n  };\n\n  publicAPI.setUniformMatrix = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    const f32 = new Float32Array(v);\n    model.context.uniformMatrix4fv(location, false, f32);\n    return true;\n  };\n\n  publicAPI.setUniformMatrix3x3 = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    const f32 = new Float32Array(v);\n    model.context.uniformMatrix3fv(location, false, f32);\n    return true;\n  };\n\n  publicAPI.setUniformf = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform1f(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformfv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform1fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformi = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform1i(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformiv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform1iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform2f = (name, v1, v2) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    if (v2 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform2f(location, v1, v2);\n    return true;\n  };\n\n  publicAPI.setUniform2fv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform2fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform2i = (name, v1, v2) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    if (v2 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform2i(location, v1, v2);\n    return true;\n  };\n\n  publicAPI.setUniform2iv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform2iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform3f = (name, a1, a2, a3) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    if (a3 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform3f(location, a1, a2, a3);\n    return true;\n  };\n\n  publicAPI.setUniform3fArray = (name, a) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    if (!Array.isArray(a) || a.length !== 3) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform3f(location, a[0], a[1], a[2]);\n    return true;\n  };\n\n  publicAPI.setUniform3fv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform3fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform3i = (name, ...args) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    let array = args;\n    // allow an array passed as a single argument\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n    if (array.length !== 3) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform3i(location, array[0], array[1], array[2]);\n    return true;\n  };\n\n  publicAPI.setUniform3iv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform3iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform4f = (name, ...args) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    let array = args;\n    // allow an array passed as a single argument\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n    if (array.length !== 4) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform4f(location, array[0], array[1], array[2], array[3]);\n    return true;\n  };\n\n  publicAPI.setUniform4fv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform4fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform4i = (name, ...args) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    let array = args;\n    // allow an array passed as a single argument\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n    if (array.length !== 4) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform4i(location, array[0], array[1], array[2], array[3]);\n    return true;\n  };\n\n  publicAPI.setUniform4iv = (name, v) => {\n    const location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = `Could not set uniform ${name} . No such uniform.`;\n      return false;\n    }\n    model.context.uniform4iv(location, v);\n    return true;\n  };\n\n  publicAPI.findUniform = (name) => {\n    if (!name || !model.linked) {\n      return -1;\n    }\n\n    // see if we have cached the result\n    let loc = model.uniformLocs[name];\n    if (loc !== undefined) {\n      return loc;\n    }\n\n    loc = model.context.getUniformLocation(model.handle, name);\n    if (loc === null) {\n      model.error = `Uniform ${name} not found in current shader program.`;\n      model.uniformLocs[name] = -1;\n      return -1;\n    }\n\n    model.uniformLocs[name] = loc;\n    return loc;\n  };\n\n  publicAPI.isUniformUsed = (name) => {\n    if (!name) {\n      return false;\n    }\n\n    // see if we have cached the result\n    let loc = model.uniformLocs[name];\n    if (loc !== undefined) {\n      return loc !== null;\n    }\n\n    if (!model.linked) {\n      vtkErrorMacro(\n        'attempt to find uniform when the shader program is not linked'\n      );\n      return false;\n    }\n\n    loc = model.context.getUniformLocation(model.handle, name);\n    model.uniformLocs[name] = loc;\n\n    if (loc === null) {\n      return false;\n    }\n\n    return true;\n  };\n\n  publicAPI.isAttributeUsed = (name) => {\n    if (!name) {\n      return false;\n    }\n\n    // see if we have cached the result\n    if (name in model.attributeLocs) {\n      return true;\n    }\n\n    if (!model.linked) {\n      vtkErrorMacro(\n        'attempt to find uniform when the shader program is not linked'\n      );\n      return false;\n    }\n\n    const loc = model.context.getAttribLocation(model.handle, name);\n    if (loc === -1) {\n      return false;\n    }\n    model.attributeLocs[name] = loc;\n\n    return true;\n  };\n\n  publicAPI.attachShader = (shader) => {\n    if (shader.getHandle() === 0) {\n      model.error = 'Shader object was not initialized, cannot attach it.';\n      return false;\n    }\n    if (shader.getShaderType() === 'Unknown') {\n      model.error = 'Shader object is of type Unknown and cannot be used.';\n      return false;\n    }\n\n    if (model.handle === 0) {\n      const thandle = model.context.createProgram();\n      if (thandle === 0) {\n        model.error = 'Could not create shader program.';\n        return false;\n      }\n      model.handle = thandle;\n      model.linked = false;\n    }\n\n    if (shader.getShaderType() === 'Vertex') {\n      if (model.vertexShaderHandle !== 0) {\n        model.comntext.detachShader(model.handle, model.vertexShaderHandle);\n      }\n      model.vertexShaderHandle = shader.getHandle();\n    }\n    if (shader.getShaderType() === 'Fragment') {\n      if (model.fragmentShaderHandle !== 0) {\n        model.context.detachShader(model.handle, model.fragmentShaderHandle);\n      }\n      model.fragmentShaderHandle = shader.getHandle();\n    }\n\n    model.context.attachShader(model.handle, shader.getHandle());\n    publicAPI.setLinked(false);\n    return true;\n  };\n\n  publicAPI.detachShader = (shader) => {\n    if (shader.getHandle() === 0) {\n      model.error = 'shader object was not initialized, cannot attach it.';\n      return false;\n    }\n    if (shader.getShaderType() === 'Unknown') {\n      model.error = 'Shader object is of type Unknown and cannot be used.';\n      return false;\n    }\n    if (model.handle === 0) {\n      model.error = 'This shader program has not been initialized yet.';\n    }\n\n    switch (shader.getShaderType()) {\n      case 'Vertex':\n        if (model.vertexShaderHandle !== shader.getHandle()) {\n          model.error = 'The supplied shader was not attached to this program.';\n          return false;\n        }\n        model.context.detachShader(model.handle, shader.getHandle());\n        model.vertexShaderHandle = 0;\n        model.linked = false;\n        return true;\n      case 'Fragment':\n        if (model.fragmentShaderHandle !== shader.getHandle()) {\n          model.error = 'The supplied shader was not attached to this program.';\n          return false;\n        }\n        model.context.detachShader(model.handle, shader.getHandle());\n        model.fragmentShaderHandle = 0;\n        model.linked = false;\n        return true;\n      default:\n        return false;\n    }\n  };\n\n  publicAPI.setContext = (ctx) => {\n    model.context = ctx;\n    model.vertexShader.setContext(ctx);\n    model.fragmentShader.setContext(ctx);\n    model.geometryShader.setContext(ctx);\n  };\n\n  publicAPI.setLastCameraMTime = (mtime) => {\n    model.lastCameraMTime = mtime;\n  };\n\n  // publicAPI.enableAttributeArray = (name) => {\n  //   const location = publicAPI.findAttributeArray(name);\n  //   if (location === -1) {\n  //     model.error = `Could not enable attribute ${name} No such attribute.`;\n  //     return false;\n  //   }\n  //   model.context.enableVertexAttribArray(location);\n  //   return true;\n  // };\n\n  // publicAPI.disableAttributeArray = (name) => {\n  //   const location = publicAPI.findAttributeArray(name);\n  //   if (location === -1) {\n  //     model.error = `Could not enable attribute ${name} No such attribute.`;\n  //     return false;\n  //   }\n  //   model.context.disableVertexAttribArray(location);\n  //   return true;\n  // };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  vertexShaderHandle: 0,\n  fragmentShaderHandle: 0,\n  geometryShaderHandle: 0,\n  vertexShader: null,\n  fragmentShader: null,\n  geometryShader: null,\n\n  linked: false,\n  bound: false,\n  compiled: false,\n  error: '',\n  handle: 0,\n  numberOfOutputs: 0,\n  attributesLocs: null,\n  uniformLocs: null,\n  md5Hash: 0,\n  context: null,\n  lastCameraMTime: null,\n};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model, initialValues = {}) {\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Instantiate internal objects\n  model.attributesLocs = {};\n  model.uniformLocs = {};\n  model.vertexShader = vtkShader.newInstance();\n  model.vertexShader.setShaderType('Vertex');\n  model.fragmentShader = vtkShader.newInstance();\n  model.fragmentShader.setShaderType('Fragment');\n  model.geometryShader = vtkShader.newInstance();\n  model.geometryShader.setShaderType('Geometry');\n\n  // Build VTK API\n  macro.obj(publicAPI, model);\n  macro.get(publicAPI, model, ['lastCameraMTime']);\n  macro.setGet(publicAPI, model, [\n    'error',\n    'handle',\n    'compiled',\n    'bound',\n    'md5Hash',\n    'vertexShader',\n    'fragmentShader',\n    'geometryShader',\n    'linked',\n  ]);\n\n  // Object methods\n  vtkShaderProgram(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkShaderProgram');\n\n// ----------------------------------------------------------------------------\n\nexport default { newInstance, extend, substitute };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}